<!-- Contact Form -->
<div>
  <form
    class="space-y-6"
    action="https://api.web3forms.com/submit"
    method="POST"
    id="contact-form"
  >
    <!-- Web3Forms Key -->
    <input
      type="hidden"
      name="access_key"
      value="80de4a57-7c81-46d2-aa2f-71a3f19e8d21"
    />
    <!-- Honeypot -->
    <!-- <input type="checkbox" name="botcheck" class="hidden" style="display:none"> -->

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label for="name" class="block text-sm font-medium text-gray-300 mb-2"
          >Nombre</label
        >
        <input
          type="text"
          id="name"
          name="name"
          required
          class="w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200"
          placeholder="Tu nombre"
        />
      </div>
      <div>
        <label for="email" class="block text-sm font-medium text-gray-300 mb-2"
          >Email</label
        >
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200"
          placeholder="tu@email.com"
        />
      </div>
    </div>

    <div>
      <label for="subject" class="block text-sm font-medium text-gray-300 mb-2"
        >Asunto</label
      >
      <input
        type="text"
        id="subject"
        name="subject"
        required
        class="w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200"
        placeholder="¿En qué podemos ayudarte?"
      />
    </div>

    <div>
      <label for="message" class="block text-sm font-medium text-gray-300 mb-2"
        >Mensaje</label
      >
      <textarea
        id="message"
        name="message"
        rows="5"
        required
        class="w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200 resize-none"
        placeholder="Cuéntanos sobre tu proyecto..."></textarea>
    </div>

    <div class="flex items-start">
      <div class="flex items-center h-5">
        <input
          id="privacy"
          name="privacy"
          type="checkbox"
          required
          class="w-4 h-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded transition-colors duration-200"
        />
      </div>
      <div class="ml-3 text-[.8rem]">
        <label for="privacy" class="text-gray-600">
          Acepto la <a href="#" class="text-primary-600 hover:text-primary-700"
            >política de privacidad</a
          > y el tratamiento de mis datos personales. *
        </label>
      </div>
    </div>
    <!-- hCaptcha -->
    <div class="h-captcha" data-captcha="true"></div>

    <!-- Redirección opcional tras envío -->
    <!-- <input type="hidden" name="redirect" value="https://tusitio.com/gracias" /> -->

    <button
      type="submit"
      class="w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white py-3 px-6 rounded-lg font-medium hover:from-primary-700 hover:to-primary-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"
    >
      Enviar Mensaje
    </button>
  </form>

  <!-- Mensaje dinámico -->
  <p id="form-status" class="mt-4 text-center text-sm text-gray-700"></p>

  <!-- hCaptcha JS -->
  <script src="https://web3forms.com/client/script.js" async defer></script>
  <script>
    const form = document.querySelector<HTMLFormElement>(
      'form[action="https://api.web3forms.com/submit"]'
    );
    const status = document.getElementById(
      "form-status"
    ) as HTMLParagraphElement | null;

    if (form && status) {
      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        status.textContent = "Enviando...";

        const formData = new FormData(form);
        try {
          const response = await fetch(form.action, {
            method: form.method,
            body: formData,
            headers: { Accept: "application/json" },
          });

          if (response.ok) {
            status.textContent = "Mensaje enviado correctamente.";
            form.reset();
          } else {
            status.textContent =
              "Error al enviar el mensaje. Intenta nuevamente.";
          }
        } catch {
          status.textContent = "Error de conexión. Revisa tu red.";
        }
      });
    }
  </script>
</div>
